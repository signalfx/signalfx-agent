<!--- GENERATED BY gomplate from scripts/docs/monitor-page.md.tmpl --->

# collectd/zookeeper

Monitors an Apache Zookeeper instance.

See the [Python plugin
source](https://github.com/signalfx/collectd-zookeeper) and the
[integrations repo
page](https://github.com/signalfx/integrations/tree/master/collectd-zookeeper)
for more information.


Monitor Type: `collectd/zookeeper`

[Monitor Source Code](https://github.com/signalfx/signalfx-agent/tree/master/internal/monitors/collectd/zookeeper)

**Accepts Endpoints**: **Yes**

**Multiple Instances Allowed**: Yes

## Configuration

| Config option | Required | Type | Description |
| --- | --- | --- | --- |
| `host` | **yes** | `string` |  |
| `port` | **yes** | `integer` |  |
| `name` | no | `string` |  |




## Metrics

The following table lists the metrics available for this monitor. Metrics that are marked as Included are standard metrics and are monitored by default.

| Name | Type | Included | Description |
| ---  | ---  | ---    | ---         |
| `counter.zk_fsync_threshold_exceed_count` | cumulative |  | Number of times fsync duration has exceeded warning threshold |
| `counter.zk_packets_received` | cumulative | ✔ | Count of the number of ZooKeeper packets received by a server |
| `counter.zk_packets_sent` | cumulative | ✔ | Count of the number of ZooKeeper packets sent from a server |
| `gauge.zk_approximate_data_size` | gauge | ✔ | Size of data in bytes that a ZooKeeper server has in its data tree |
| `gauge.zk_avg_latency` | gauge | ✔ | Average time in milliseconds for requests to be processed |
| `gauge.zk_ephemerals_count` | gauge | ✔ | Number of ephemeral nodes that a ZooKeeper server has in its data tree |
| `gauge.zk_is_leader` | gauge |  | 1 if the node is a leader, 0 if the node is a follower |
| `gauge.zk_max_file_descriptor_count` | gauge | ✔ | Maximum number of file descriptors that a ZooKeeper server can open |
| `gauge.zk_max_latency` | gauge |  | Maximum time in milliseconds for a request to be processed |
| `gauge.zk_min_latency` | gauge |  | Minimum time in milliseconds for a request to be processed |
| `gauge.zk_num_alive_connections` | gauge | ✔ | Number of active clients connected to a ZooKeeper server |
| `gauge.zk_open_file_descriptor_count` | gauge | ✔ | Number of file descriptors that a ZooKeeper server has open |
| `gauge.zk_outstanding_requests` | gauge |  | Number of currently executing requests |
| `gauge.zk_service_health` | gauge |  | 1 if server is running, otherwise 0 |
| `gauge.zk_watch_count` | gauge | ✔ | Number of watches placed on Z-Nodes on a ZooKeeper server |
| `gauge.zk_znode_count` | gauge | ✔ | Number of z-nodes that a ZooKeeper server has in its data tree |


To specify custom metrics you want to monitor, add a `metricsToInclude` filter
to the agent configuration, as shown in the code snippet below. The snippet
lists all available custom metrics. You can copy and paste the snippet into
your configuration file, then delete any custom metrics that you do not want
sent.

Note that some of the custom metrics require you to set a flag as well as add
them to the list. Check the monitor configuration file to see if a flag is
required for gathering additional metrics.

```yaml

metricsToInclude:
  - metricNames:
    - counter.zk_fsync_threshold_exceed_count
    - gauge.zk_is_leader
    - gauge.zk_max_latency
    - gauge.zk_min_latency
    - gauge.zk_outstanding_requests
    - gauge.zk_service_health
    monitorType: collectd/zookeeper
```




