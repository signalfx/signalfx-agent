<!--- GENERATED BY gomplate from scripts/docs/monitor-page.md.tmpl --->

# collectd/solr

 Monitors Solr instances.

See https://github.com/signalfx/collectd-solr and
https://github.com/signalfx/integrations/tree/master/collectd-solr

Sample YAML configuration:

```yaml
monitors:
- type: collectd/solr
  host: 127.0.0.1
  port: 8983
```

Sample YAML configuration with list lengths:

```yaml
monitors:
- type: collectd/solr
  host: 127.0.0.1
  port: 8983
  includeMetrics:
  - solr.core_deleted_docs
    solr.core_index_size
  excludeMetrics:
  - solr.core_max_docs
    solr.core_num_docs
```


Monitor Type: `collectd/solr`

[Monitor Source Code](https://github.com/signalfx/signalfx-agent/tree/master/internal/monitors/collectd/solr)

**Accepts Endpoints**: **Yes**

**Multiple Instances Allowed**: Yes

## Configuration

| Config option | Required | Type | Description |
| --- | --- | --- | --- |
| `host` | **yes** | `string` |  |
| `port` | **yes** | `integer` |  |
| `cluster` | no | `string` | Cluster name of this solr cluster. |
| `enhancedMetrics` | no | `bool` | EnhancedMetrics boolean to indicate whether stats from /metrics are needed (**default:** `false`) |
| `includeMetrics` | no | `list of string` | IncludeMetrics metric names from the /admin/metrics endpoint to include (valid when EnhancedMetrics is "false") |
| `excludeMetrics` | no | `list of string` | ExcludeMetrics metric names from the /admin/metrics endpoint to exclude (valid when EnhancedMetrics is "true") |




## Metrics

The following table lists the metrics available for this monitor. Metrics that are not marked as Custom are standard metrics and are monitored by default.

| Name | Type | Custom | Description |
| ---  | ---  | ---    | ---         |
| `solr.core_deleted_docs` | gauge | X | Number of deleted docs in Solr core |
| `solr.core_index_size` | gauge | X | Size of a core index |
| `solr.core_max_docs` | gauge | X | Total number of docs in Sor core |
| `solr.core_num_docs` | gauge | X | Total number of indexed docs in Sor core |
| `solr.core_totalspace` | gauge | X | Total space allocated for core |
| `solr.core_usablespace` | gauge | X | Usable space available in core |
| `solr.document_cache_cumulative_hitratio` | gauge | X | Cummulative hit ration of document cache |
| `solr.field_value_cache_cumulative_hitratio` | gauge | X | Cummulative hit ration of filed value cache |
| `solr.http_2xx_responses` | counter | X | Total number of 2xx http responses |
| `solr.http_4xx_responses` | counter | X | Total number of 4xx http responses |
| `solr.http_5xx_responses` | counter | X | Total number of 5xx http responses |
| `solr.http_active_requests` | gauge | X | Number of http active requests |
| `solr.jetty_get_request_latency` | gauge | X | Time to process http get request |
| `solr.jetty_post_request_latency` | gauge | X | Time to process http post request |
| `solr.jetty_request_latency` | gauge | X | Http request response time |
| `solr.jvm_classes_loaded` | counter | X | Number of JVM classes loaded |
| `solr.jvm_gc_cms_count` | gauge | X | JVM Garbage Collector - CMS invocation count |
| `solr.jvm_gc_cms_time` | gauge | X | JVM Garbage Collector - CMS prcoess time |
| `solr.jvm_gc_parnew_count` | gauge | X | JVM Garbage Collector - Parnew invocation count |
| `solr.jvm_gc_parnew_time` | gauge | X | JVM Garbage Collector - Parnew process time |
| `solr.jvm_heap_usage` | gauge | X | JVM Heap usage |
| `solr.jvm_mapped_memory_capacity` | gauge | X | Total JVM mapped memory capacity |
| `solr.jvm_mapped_memory_used` | gauge | X | Total JVM mapped memory used |
| `solr.jvm_memory_pools_Code-Cache_usage` | gauge | X | JVM memory pools - PCode Cache usage |
| `solr.jvm_memory_pools_Metaspace_usage` | gauge | X | JVM memory pools - Metaspace usage |
| `solr.jvm_memory_pools_Par-Eden-Space_usage` | gauge | X | JVM memory pools - Par Eden space usage |
| `solr.jvm_memory_pools_Par-Survivor-Space_usage` | gauge | X | JVM memory pools - Par Survivor space usage |
| `solr.jvm_total_memory` | gauge | X | JVM total memory allocated |
| `solr.jvm_total_memory_used` | gauge | X | JVM memory used |
| `solr.node_collections_requests` | counter | X | Number of collection level requets to Solr node |
| `solr.node_cores_requests` | counter | X | Number of core level requets to Solr node |
| `solr.node_metric_request_count` | counter | X | Number of metric requests |
| `solr.node_metric_request_time` | gauge | X | Time to process a metric request |
| `solr.node_metrics_requests` | counter | X | Number of metrics level requets to Solr node |
| `solr.node_zookeeper_requests` | counter | X | Number of zookeeper level requets to Solr node |
| `solr.openFileDescriptorCount` | counter | X | Number of open file descriptors |
| `solr.query_result_cache_cumulative_hitratio` | gauge | X | Cummulative hit ration of query cache |
| `solr.replication_handler_requests` | counter | X | Number of replication handler requets |
| `solr.replication_handler_response` | gauge | X | Resplication handler response time |
| `solr.search_query_requests` | counter | X | Number of search query requests |
| `solr.search_query_response` | gauge | X | Search query response time |
| `solr.searcher_warmup` | gauge | X | Time to new searcher to warm up |
| `solr.update_handler_requests` | counter | X | Number of update handler requets |
| `solr.update_request_handler_response` | gauge | X | Update request handler response time |
| `solr.zookeeper_errors` | counter | X | Number of failures/error at Zookeeper |
| `solr.zookeeper_request_time` | gauge | X | Time to process a request at zookeeper |


To specify custom metrics you want to monitor, add a `metricsToInclude` filter
to the agent configuration, as shown in the code snippet below. The snippet
lists all available custom metrics. You can copy and paste the snippet into
your configuration file, then delete any custom metrics that you do not want
sent.

Note that some of the custom metrics require you to set a flag as well as add
them to the list. Check the monitor configuration file to see if a flag is
required for gathering additional metrics.

```yaml

metricsToInclude:
  - metricNames:
    - solr.core_deleted_docs
    - solr.core_index_size
    - solr.core_max_docs
    - solr.core_num_docs
    - solr.core_totalspace
    - solr.core_usablespace
    - solr.document_cache_cumulative_hitratio
    - solr.field_value_cache_cumulative_hitratio
    - solr.http_2xx_responses
    - solr.http_4xx_responses
    - solr.http_5xx_responses
    - solr.http_active_requests
    - solr.jetty_get_request_latency
    - solr.jetty_post_request_latency
    - solr.jetty_request_latency
    - solr.jvm_classes_loaded
    - solr.jvm_gc_cms_count
    - solr.jvm_gc_cms_time
    - solr.jvm_gc_parnew_count
    - solr.jvm_gc_parnew_time
    - solr.jvm_heap_usage
    - solr.jvm_mapped_memory_capacity
    - solr.jvm_mapped_memory_used
    - solr.jvm_memory_pools_Code-Cache_usage
    - solr.jvm_memory_pools_Metaspace_usage
    - solr.jvm_memory_pools_Par-Eden-Space_usage
    - solr.jvm_memory_pools_Par-Survivor-Space_usage
    - solr.jvm_total_memory
    - solr.jvm_total_memory_used
    - solr.node_collections_requests
    - solr.node_cores_requests
    - solr.node_metric_request_count
    - solr.node_metric_request_time
    - solr.node_metrics_requests
    - solr.node_zookeeper_requests
    - solr.openFileDescriptorCount
    - solr.query_result_cache_cumulative_hitratio
    - solr.replication_handler_requests
    - solr.replication_handler_response
    - solr.search_query_requests
    - solr.search_query_response
    - solr.searcher_warmup
    - solr.update_handler_requests
    - solr.update_request_handler_response
    - solr.zookeeper_errors
    - solr.zookeeper_request_time
    monitorType: collectd/solr
```




