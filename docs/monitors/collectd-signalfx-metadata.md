<!--- GENERATED BY gomplate from scripts/docs/monitor-page.md.tmpl --->

# collectd/signalfx-metadata

Collectd Python plugin that aggregates
various metrics from other collectd plugins.  It also sends host metadata to
SignalFx through specially formatted events, and sends active process
("top") lists on a periodic basis.

See [Python plugin code](https://github.com/signalfx/collectd-signalfx/) and
[Integrations docs](https://github.com/signalfx/integrations/tree/master/signalfx-metadata).


Monitor Type: `collectd/signalfx-metadata`

[Monitor Source Code](https://github.com/signalfx/signalfx-agent/tree/master/internal/monitors/collectd/metadata)

**Accepts Endpoints**: No

**Multiple Instances Allowed**: **No**

## Configuration

| Config option | Required | Type | Description |
| --- | --- | --- | --- |
| `writeServerURL` | no | `string` |  |
| `procFSPath` | no | `string` | (Deprecated) Please set the agent configuration `procPath` instead of this monitor configuration option. The path to the proc filesystem. Useful to override in containerized environments. |
| `etcPath` | no | `string` | (Deprecated) Please set the agent configuration `etcPath` instead of this monitor configuration option. The path to the main host config dir. Useful to override in containerized environments. |
| `perCoreCPUUtil` | no | `bool` | Collect the cpu utilization per core, reported as `cpu.utilization_per_core`. (**default:** `false`) |
| `persistencePath` | no | `string` | A directory where the metadata plugin can persist the history of successful host metadata syncs so that host metadata is not sent redundantly. (**default:** `/var/run/signalfx-agent`) |
| `omitProcessInfo` | no | `bool` | If true, process "top" information will not be sent.  This can be useful if you have an extremely high number of processes and performance of the plugin is poor. (**default:** `false`) |
| `dogStatsDPort` | no | `unsigned integer` | Set this to a non-zero value to enable the DogStatsD listener as part of this monitor.  The listener will accept metrics on the DogStatsD format, and sends them as SignalFx datapoints to our backend.  Setting to a value setting the `DogStatsDPort` to `0` will result in a random port assignment. **Note: The listener emits directly to SignalFx and will not be subject to filters configured with the SignalFx Smart Agent.  Internal stats about the SignalFx Smart Agent will not reflect datapoints set through the DogStatsD listener** |
| `token` | no | `string` | This is only required when running the DogStatsD listener.  Set this to your SignalFx access token. |
| `dogStatsDIP` | no | `string` | Optionally override the default ip that the DogStatsD listener listens on.  (**default**: "0.0.0.0") |
| `ingestEndpoint` | no | `string` | This is optional only used when running the DogStatsD listener. By default the DogStatsD listener will emit to SignalFx Ingest. (**default**: "https://ingest.signalfx.com") |
| `verbose` | no | `bool` | Set this to enable verbose logging from the monitor (**default:** `false`) |




## Metrics

The following table lists the metrics available for this monitor. Metrics that are not marked as Custom are standard metrics and are monitored by default.

| Name | Type | Custom | Description |
| ---  | ---  | ---    | ---         |
| `cpu.utilization` | gauge |  | Percent of CPU used on this host. |
| `cpu.utilization_per_core` | gauge | X | Percent of CPU used on each core. `perCoreCPUUtil` config must be set to true. |
| `disk.summary_utilization` | gauge |  | Percent of disk space utilized on all volumes on this host. |
| `disk.utilization` | gauge |  | Percent of disk used on this volume. |
| `disk_ops.total` | cumulative |  | Total number of disk read and write operations on this host. |
| `memory.utilization` | gauge |  | Percent of memory in use on this host. |
| `network.total` | cumulative |  | Total amount of inbound and outbound network traffic on this host, in bytes. |


To specify custom metrics you want to monitor, add a `metricsToInclude` filter
to the agent configuration, as shown in the code snippet below. The snippet
lists all available custom metrics. You can copy and paste the snippet into
your configuration file, then delete any custom metrics that you do not want
sent.

Note that some of the custom metrics require you to set a flag as well as add
them to the list. Check the monitor configuration file to see if a flag is
required for gathering additional metrics.

```yaml

metricsToInclude:
  - metricNames:
    - cpu.utilization_per_core
    monitorType: collectd/signalfx-metadata
```




