<!--- GENERATED BY gomplate from scripts/docs/monitor-page.md.tmpl --->

# kubelet-stats

 This monitor pulls cadvisor metrics through a
Kubernetes kubelet instance via the `/stats/container` endpoint.


Monitor Type: `kubelet-stats`

[Monitor Source Code](https://github.com/signalfx/signalfx-agent/tree/master/internal/monitors/cadvisor)

**Accepts Endpoints**: No

**Multiple Instances Allowed**: Yes

## Configuration

| Config option | Required | Type | Description |
| --- | --- | --- | --- |
| `kubeletAPI` | no | `object (see below)` | Kubelet client configuration |


The **nested** `kubeletAPI` config object has the following fields:

| Config option | Required | Type | Description |
| --- | --- | --- | --- |
| `url` | no | `string` | URL of the Kubelet instance.  This will default to `https://<current node hostname>:10250` if not provided. |
| `authType` | no | `string` | Can be `none` for no auth, `tls` for TLS client cert auth, or `serviceAccount` to use the pod's default service account token to authenticate. (**default:** `none`) |
| `skipVerify` | no | `bool` | Whether to skip verification of the Kubelet's TLS cert (**default:** `false`) |
| `caCertPath` | no | `string` | Path to the CA cert that has signed the Kubelet's TLS cert, unnecessary if `skipVerify` is set to false. |
| `clientCertPath` | no | `string` | Path to the client TLS cert to use if `authType` is set to `tls` |
| `clientKeyPath` | no | `string` | Path to the client TLS key to use if `authType` is set to `tls` |
| `logResponses` | no | `bool` | Whether to log the raw cadvisor response at the debug level for debugging purposes. (**default:** `false`) |




## Metrics

This monitor emits the following metrics.  Note that configuration options may
cause only a subset of metrics to be emitted.

| Name | Type | Description |
| ---  | ---  | ---         |
| `container_cpu_cfs_periods` | counter | Total number of elapsed CFS enforcement intervals |
| `container_cpu_cfs_throttled_periods` | counter | Total number of times tasks in the cgroup have been throttled |
| `container_cpu_cfs_throttled_time` | counter | Total time duration, in nanoseconds, for which tasks in the cgroup have been throttled |
| `container_cpu_system_seconds_total` | counter | Cumulative system cpu time consumed in nanoseconds |
| `container_cpu_usage_seconds_total` | counter | Cumulative cpu time consumed per cpu in nanoseconds |
| `container_cpu_user_seconds_total` | counter | Cumulative user cpu time consumed in nanoseconds |
| `container_cpu_utilization` | counter | Cumulative cpu utilization in percentages |
| `container_fs_io_current` | gauge | Number of I/Os currently in progress |
| `container_fs_io_time_seconds_total` | counter | Cumulative count of seconds spent doing I/Os |
| `container_fs_io_time_weighted_seconds_total` | counter | Cumulative weighted I/O time in seconds |
| `container_fs_limit_bytes` | gauge | Number of bytes that the container may occupy on this filesystem |
| `container_fs_read_seconds_total` | counter | Cumulative count of seconds spent reading |
| `container_fs_reads_merged_total` | counter | Cumulative count of reads merged |
| `container_fs_reads_total` | counter | Cumulative count of reads completed |
| `container_fs_sector_reads_total` | counter | Cumulative count of sector reads completed |
| `container_fs_sector_writes_total` | counter | Cumulative count of sector writes completed |
| `container_fs_usage_bytes` | gauge | Number of bytes that are consumed by the container on this filesystem |
| `container_fs_write_seconds_total` | counter | Cumulative count of seconds spent writing |
| `container_fs_writes_merged_total` | counter | Cumulative count of writes merged |
| `container_fs_writes_total` | counter | Cumulative count of writes completed |
| `container_last_seen` | gauge | Last time a container was seen by the exporter |
| `container_memory_failcnt` | counter | Number of memory usage hits limits |
| `container_memory_failures_total` | counter | Cumulative count of memory allocation failures |
| `container_memory_usage_bytes` | gauge | Current memory usage in bytes |
| `container_memory_working_set_bytes` | gauge | Current working set in bytes |
| `container_network_receive_bytes_total` | counter | Cumulative count of bytes received |
| `container_network_receive_errors_total` | counter | Cumulative count of errors encountered while receiving |
| `container_network_receive_packets_dropped_total` | counter | Cumulative count of packets dropped while receiving |
| `container_network_receive_packets_total` | counter | Cumulative count of packets received |
| `container_network_transmit_bytes_total` | counter | Cumulative count of bytes transmitted |
| `container_network_transmit_errors_total` | counter | Cumulative count of errors encountered while transmitting |
| `container_network_transmit_packets_dropped_total` | counter | Cumulative count of packets dropped while transmitting |
| `container_network_transmit_packets_total` | counter | Cumulative count of packets transmitted |
| `container_spec_cpu_period` | gauge | The number of microseconds that the [CFS scheduler](https://www.kernel.org/doc/Documentation/scheduler/sched-bwc.txt) uses as a window when limiting container processes |
| `container_spec_cpu_quota` | gauge | In CPU quota for the CFS process scheduler. In K8s this is equal to the containers's CPU limit as a fraction of 1 core and multiplied by the `container_spec_cpu_period`.  So if the CPU limit is `500m` (500 millicores) for a container and the `container_spec_cpu_period` is set to 100,000, this value will be 50,000. |
| `container_spec_cpu_shares` | gauge | CPU share of the container |
| `container_spec_memory_limit_bytes` | gauge | Memory limit for the container. |
| `container_spec_memory_swap_limit_bytes` | gauge | Memory swap limit for the container. |
| `container_start_time_seconds` | gauge | Start time of the container since unix epoch in seconds. |
| `container_tasks_state` | gauge | Number of tasks in given state |
| `machine_cpu_cores` | gauge | Number of CPU cores on the node. |
| `machine_cpu_frequency_khz` | gauge | Node's CPU frequency. |
| `machine_memory_bytes` | gauge | Amount of memory installed on the node. |

## Dimensions

The following dimensions may occur on metrics emitted by this monitor.  Some
dimensions may be specific to certain metrics.

| Name | Description |
| ---  | ---         |
| `container_id` | The ID of the running container |
| `container_image` | The container image name |
| `container_name` | The container's name as it appears in the pod spec, the same as container_spec_name but retained for backwards compatibility. |
| `container_spec_name` | The container's name as it appears in the pod spec |
| `kubernetes_namespace` | The K8s namespace the container is part of |
| `kubernetes_pod_name` | The pod instance under which this container runs |
| `kubernetes_pod_uid` | The UID of the pod instance under which this container runs |



