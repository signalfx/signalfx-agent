FROM ubuntu:16.04

ENV DEBIAN_FRONTEND=noninteractive

RUN apt-get update  && \
    apt-get install -y apt-transport-https ca-certificates python3 python3-pip sshpass openssh-client

RUN pip3 install --upgrade ansible==2.9.12 ansible-lint==4.2.0

RUN mkdir -p /etc/ansible && \
    echo 'localhost' > /etc/ansible/hosts

# default command: display Ansible version
# CMD [ "ansible-playbook", "--version" ]

WORKDIR /opt/ansible
COPY . /opt/ansible
RUN echo "[signalfx-host-group]" > inventory && \
    echo localhost >> inventory

