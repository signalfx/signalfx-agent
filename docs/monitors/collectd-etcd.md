<!--- GENERATED BY gomplate from scripts/docs/monitor-page.md.tmpl --->

# collectd/etcd

Monitors an etcd key/value store.

See https://github.com/signalfx/integrations/tree/master/collectd-etcd and
https://github.com/signalfx/collectd-etcd


Monitor Type: `collectd/etcd`

[Monitor Source Code](https://github.com/signalfx/signalfx-agent/tree/master/internal/monitors/collectd/etcd)

**Accepts Endpoints**: **Yes**

**Multiple Instances Allowed**: Yes

## Configuration

| Config option | Required | Type | Description |
| --- | --- | --- | --- |
| `host` | **yes** | `string` |  |
| `port` | **yes** | `integer` |  |
| `clusterName` | **yes** | `string` | An arbitrary name of the etcd cluster to make it easier to group together and identify instances. |
| `sslKeyFile` | no | `string` |  |
| `sslCertificate` | no | `string` |  |
| `sslCACerts` | no | `string` |  |
| `skipSSLValidation` | no | `bool` |  |
| `enhancedMetrics` | no | `bool` |  |




## Metrics

The following table lists the metrics available for this monitor. Metrics that are not marked as Custom are standard metrics and are monitored by default.

| Name | Type | Custom | Description |
| ---  | ---  | ---    | ---         |
| `counter.etcd.leader.counts.fail` | counter |  | Total number of failed rpc requests to with a follower |
| `counter.etcd.leader.counts.success` | counter |  | Total number of successful rpc requests to with a follower |
| `counter.etcd.self.recvappendreq.cnt` | counter |  | Total number of append requests received by a member |
| `counter.etcd.self.sendappendreq.cnt` | counter |  | Total number of append requests sent by a member |
| `counter.etcd.store.compareanddelete.fail` | counter |  | Total number of failed compare-and-delete operations |
| `counter.etcd.store.compareanddelete.success` | counter |  | Total number of successful compare-and-delete operations |
| `counter.etcd.store.compareandswap.fail` | counter |  | Total number of failed compare-and-swap operations |
| `counter.etcd.store.compareandswap.success` | counter |  | Total number of successful compare-and-swap operations |
| `counter.etcd.store.create.fail` | counter |  | Total number of failed create operations |
| `counter.etcd.store.create.success` | counter |  | Total number of successful create operations |
| `counter.etcd.store.delete.fail` | counter |  | Total number of failed delete operations |
| `counter.etcd.store.delete.success` | counter |  | Total number of successful delete operations |
| `counter.etcd.store.expire.count` | counter |  | Total number of items expired due to TTL |
| `counter.etcd.store.gets.fail` | counter |  | Total number of failed get operations |
| `counter.etcd.store.gets.success` | counter |  | Total number of successful get operations |
| `counter.etcd.store.sets.fail` | counter |  | Total number of failed set operations |
| `counter.etcd.store.sets.success` | counter |  | Total number of successful set operations |
| `counter.etcd.store.update.fail` | counter |  | Total number of failed update operations |
| `counter.etcd.store.update.success` | counter |  | Total number of successful update operations |
| `gauge.etcd.leader.latency.average` | gauge | X | Average latency of a follower with respect to the leader |
| `gauge.etcd.leader.latency.current` | gauge |  | Current latency of a follower with respect to the leader |
| `gauge.etcd.leader.latency.max` | gauge | X | Max latency of a follower with respect to the leader |
| `gauge.etcd.leader.latency.min` | gauge | X | Min latency of a follower with respect to the leader |
| `gauge.etcd.leader.latency.stddev` | gauge | X | Std dev latency of a follower with respect to the leader |
| `gauge.etcd.self.recvbandwidth.rate` | gauge |  | Bandwidth rate of a follower |
| `gauge.etcd.self.recvpkg.rate` | gauge |  | Rate at which a follower receives packages |
| `gauge.etcd.self.sendbandwidth.rate` | gauge |  | Bandwidth rate of a leader |
| `gauge.etcd.self.sendpkg.rate` | gauge |  | Rate at which a leader sends packages |
| `gauge.etcd.store.watchers` | gauge |  | Number of watchers |


To specify custom metrics you want to monitor, add a `metricsToInclude` filter
to the agent configuration, as shown in the code snippet below. The snippet
lists all available custom metrics. You can copy and paste the snippet into
your configuration file, then delete any custom metrics that you do not want
sent.

Note that some of the custom metrics require you to set a flag as well as add
them to the list. Check the monitor configuration file to see if a flag is
required for gathering additional metrics.

```yaml

metricsToInclude:
  - metricNames:
    - gauge.etcd.leader.latency.average
    - gauge.etcd.leader.latency.max
    - gauge.etcd.leader.latency.min
    - gauge.etcd.leader.latency.stddev
    monitorType: collectd/etcd
```




