
<!--- Generated by to-integrations-repo script in Smart Agent repo, DO NOT MODIFY HERE --->

{% set has_multiple_monitors = integration.monitor_types|length > 1%}
### INSTALLATION

This integration is part of the [SignalFx Smart Agent](https://github.com/signalfx/integrations/tree/master/signalfx-agent)[](sfx_link:signalfx-agent)
as the {{ integration.monitor_types|surround_by_tick|join(", ") }} monitor{% if has_multiple_monitors %}s{% endif %}. You should first deploy the Smart Agent to the
same host as the service you want to monitor, and then continue with the
configuration instructions below.

## Description

**This integration primarily consists of the Smart Agent monitor{% if has_multiple_monitors %}s{% endif %} {{ integration.monitor_types|surround_by_tick|join(', ') }}.
Below is an overview of {% if has_multiple_monitors %}the monitors{% else %}that monitor{% endif %}.**

### Smart Agent Monitor{% if has_multiple_monitors %}s{% endif %}


{% for monitor, description in integration.description.items() %}
{% if has_multiple_monitors %}#### {{ monitor }} monitor{% endif %}

{{ description }}
{% endfor %}

## Configuration
{% for monitor, configuration in integration.configuration.items() %}
{% if has_multiple_monitors %}#### {{ monitor }} monitor{% endif %}

To activate this monitor in the Smart Agent, add the following to your
agent config:

```
monitors:  # All monitor config goes under this key
 - type: {{ monitor }}
   ...  # Additional config
```

**For a list of monitor options that are common to all monitors, see [Common
Configuration](../monitor-config.md#common-configuration).**


{% if configuration.values() %}
{% for table, fields in configuration.items() %}
{% if table != "Config" %}


The **nested** `{{ table }}` config object has the following fields:

{% endif %}
| Config option | Required | Type | Description |
| --- | --- | --- | --- |
{% for field in fields %}
| `{{ field.yamlName }}` | {% if field.required %}**yes**{% else %}no{% endif %} | {% if field.elementKind %}`{{ field.type }} of {{ field.elementKind }}s{% if field.elementKind == "object" %} (see below){% endif %}`{% else %}`{{ field.type }}{% if field.type == "object" %} (see below){% endif %}`{% endif %} | {{ field.doc }}{% if field.default %} (**default:** `{{ field.default }}`){% endif %} |
{% endfor %}
{% endfor %}
{% else %}
This monitor has no configuration options.
{% endif %}
{% endfor %}

{% set send_all_metrics = integration.send_all_metrics|send_all_metrics_from_all_monitors %}
{% if integration.metrics|has_atleast_one_monitor_with_section %}

## Metrics

{% if  integration.send_all_metrics|send_all_metrics_from_all_monitors %}
All metrics of this integration are emitted by default; however, **none are categorized as
[container/host](https://docs.signalfx.com/en/latest/admin-guide/usage.html#about-custom-bundled-and-high-resolution-metrics)
-- they are all custom**.
{% else %}
Metrics that are categorized as
[container/host](https://docs.signalfx.com/en/latest/admin-guide/usage.html#about-custom-bundled-and-high-resolution-metrics)
(*default*) are ***in bold and italics*** in the list below.
{% endif %}

These are the metrics available for this integration.
{% for monitor, metrics in integration.metrics.items() %}
{% if metrics %}
{% if has_multiple_monitors %}#### {{ monitor }} monitor{% endif %}
{% for group, metrics in metrics|groupby("group") %}

{% if group|string() != ""|string() %}
#### Group {{ group }}
All of the following metrics are part of the `{{ group }}` metric group. All of
the non-default metrics below can be turned on by adding `{{ group }}` to the
monitor config option `extraGroups`:
{% endif %}
{% for metric in metrics %}
{% set description = "" %}
{% if metric.description %}
{% set description = metric.description|indent(4, True) %}
{% endif %}
{{ " "|safe }}- {% if metric.default %}***`{{ metric.name }}`***{% else %}`{{ metric.name }}`{% endif %} (*{{ metric.type }}*)<br>{{ description }}
{% endfor %}
{% endfor %}
{% endif %}
{% endfor %}

{% if not send_all_metrics %}
### Non-default metrics (version 4.7.0+)

**The following information applies to the agent version 4.7.0+ that has
`enableBuiltInFiltering: true` set on the top level of the agent config.**

To emit metrics that are not _default_, you can add those metrics in the
generic monitor-level `extraMetrics` config option.  Metrics that are derived
from specific configuration options that do not appear in the above list of
metrics do not need to be added to `extraMetrics`.

To see a list of metrics that will be emitted you can run `agent-status
monitors` after configuring this monitor in a running agent instance.

### Legacy non-default metrics (version < 4.7.0)

**The following information only applies to agent version older than 4.7.0. If
you have a newer agent and have set `enableBuiltInFiltering: true` at the top
level of your agent config, see the section above. See upgrade instructions in
[Old-style whitelist filtering](../legacy-filtering.md#old-style-whitelist-filtering).**

If you have a reference to the `whitelist.json` in your agent's top-level
`metricsToExclude` config option, and you want to emit metrics that are not in
that whitelist, then you need to add an item to the top-level
`metricsToInclude` config option to override that whitelist (see [Inclusion
filtering](../legacy-filtering.md#inclusion-filtering).  Or you can just
copy the whitelist.json, modify it, and reference that in `metricsToExclude`.

{% endif %}
{% endif %}
{% if send_all_metrics %}
The agent does not do any built-in filtering of metrics coming out of {% if not has_multiple_monitors %}this
monitor{% else %}these monitors{% endif %}.
{% endif %}

{%- if integration.dimensions|has_atleast_one_monitor_with_section %}
## Dimensions
{% for monitor, dimensions in integration.dimensions.items() -%}
{%- if dimensions %}
{% if has_multiple_monitors %}#### {{ monitor }} monitor{% endif %}

The following dimensions may occur on metrics emitted by this monitor.  Some
dimensions may be specific to certain metrics.

| Name | Description |
| ---  | ---         |
{% for dim_name, dim_info in dimensions.items() %}
| `{{ dim_name }}` | {{ dim_info.description }} |
{% endfor %}

{%- endif -%}
{%- endfor %}
{%- endif -%}

{% if integration.properties|has_atleast_one_monitor_with_section %}
## Properties

The following
[properties](https://docs.signalfx.com/en/latest/metrics-metadata/metrics-metadata.html#properties)
are set on the dimension values of the dimension specified.


{% for monitor, properties in integration.properties.items() -%}

{%- if properties %}
{% if has_multiple_monitors %}#### {{ monitor }} monitor{% endif %}

| Name | Dimension | Description |
| ---  | ---       | ---         |
{% for prop_name, prop_info in properties.items() %}
| `{{ prop_name }}` | {{ prop_info.dimension }} | {{ prop_info.description }} |
{% endfor %}

{%- endif -%}
{%- endfor %}
{%- endif -%}



