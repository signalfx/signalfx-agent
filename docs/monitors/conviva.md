<!--- GENERATED BY gomplate from scripts/docs/monitor-page.md.tmpl --->

# conviva

This monitor uses version 2.4 of the Conviva Experience Insights REST APIs to pull
`Real-Time/Live` video playing experience metrics from Conviva.

Only `Live` conviva metrics listed
[here](https://community.conviva.com/site/global/apis_data/experience_insights_api/index.gsp#metrics)
are supported. All metrics are gauges. The Conviva metrics are converted to SignalFx metrics with dimensions
named account and filter. The account dimension is the name of the Conviva account and the filter dimension
is the name of the Conviva filter applied to the metric. In the case of MetricLenses, the constituent
MetricLens metrics and MetricLens dimensions are included. The values of the MetricLens dimensions are
derived from the values of the associated MetricLens dimension entities.

Below is a sample YAML configuration showing the most basic configuration of the Conviva monitor
using only the required fields. For this configuration the monitor will default to fetching quality MetricLens
metrics for all dimensions from the default Conviva account using the `All Traffic` filter.

```
monitors:
- type: conviva
 pulseUsername: <username>
 pulsePassword: <password>
```

Individual metrics are configured as a list of metricConfigs as shown in sample configuration below. The
metrics a fetched using the specified metricParameter. Find the list of metric parameters
[here](https://github.com/signalfx/integrations/blob/master/conviva/docs/conviva_metrics.md).
The Conviva metrics reported to SignalFx are prefixed by `conviva.`, `conviva.quality_metriclens.` and
`conviva.audience_metriclens.` accordingly. The metric names are the `titles` of the metrics
[here](https://github.com/signalfx/integrations/tree/master/conviva/docs) which correspond to the Conviva
`metric parameters` [here](https://community.conviva.com/site/global/apis_data/experience_insights_api/index.gsp#metrics).
Where an account is not provided the default account is fetched and used. Where no filters are specified the
`All Traffic` filter is used. Where MetricLens dimensions are not specified all MetricLens dimensions
are fetched and used. The `_ALL_` keyword means all. MetricLens dimension configuration applies only to MetricLenses.
If specified for a regular metric they will be ignored. MetricLens dimensions listed in `excludeMetricLensDimensions`
will be excluded.

```
monitors:
- type: conviva
 pulseUsername: <username>
 pulsePassword: <password>
 metricConfigs:
   - account: c3.NBC
     metricParameter: quality_metriclens
     filters:
       - All Traffic
     metricLensDimensions:
       - Cities
   - metricParameter: avg_bitrate
     maxFiltersPerRequest: 99
     filters:
       - _ALL_
   - metricParameter: concurrent_plays
   - metricParameter: audience_metriclens
     filters:
       - All Traffic
     metricLensDimensions:
       - _ALL_
     excludeMetricLensDimensions:
       - CDNs
```

Add the extra dimension metric_source as shown in sample configuration below for the convenience of searching
for your metrics in SignalFx using the metric_source value you specify. Also, version 2.4 of the Conviva Experience
Insights REST APIs limits the number of filters per request to 99. Specify the maximum number of filters per request
using `maxFiltersPerRequest` as shown in the example above in order to limit the number of filters per request.

```
monitors:
- type: conviva
 pulseUsername: <username>
 pulsePassword: <password>
 extraDimensions:
   metric_source: conviva
```


Monitor Type: `conviva`

[Monitor Source Code](https://github.com/signalfx/signalfx-agent/tree/master/internal/monitors/conviva)

**Accepts Endpoints**: No

**Multiple Instances Allowed**: Yes

## Configuration

| Config option | Required | Type | Description |
| --- | --- | --- | --- |
| `pulseUsername` | **yes** | `string` | Conviva Pulse username required with each API request. |
| `pulsePassword` | **yes** | `string` | Conviva Pulse password required with each API request. |
| `timeoutSeconds` | no | `integer` |  (**default:** `10`) |
| `metricConfigs` | no | `list of objects (see below)` | Conviva metrics to fetch. The default is quality_metriclens metric with the "All Traffic" filter applied and all quality_metriclens dimensions. |


The **nested** `metricConfigs` config object has the following fields:

| Config option | Required | Type | Description |
| --- | --- | --- | --- |
| `account` | no | `string` | Conviva customer account name. The default account is fetched used if not specified. |
| `metricParameter` | no | `string` |  (**default:** `quality_metriclens`) |
| `filters` | no | `list of strings` | Filter names. The default is `All Traffic` filter |
| `metricLensDimensions` | no | `list of strings` | MetricLens dimension names. The default is names of all MetricLens dimensions of the account |
| `excludeMetricLensDimensions` | no | `list of strings` | MetricLens dimension names to exclude. |
| `maxFiltersPerRequest` | no | `integer` | Max number of filters per request. The default is number of filters. Multiple requests if number of filters is more than maxFiltersPerRequest (**default:** `0`) |








