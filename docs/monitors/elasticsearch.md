<!--- GENERATED BY gomplate from scripts/docs/monitor-page.md.tmpl --->

# elasticsearch

This monitor collects stats from Elasticsearch. It collects node, cluster
and index level stats. This monitor is compatible with the current collectd
plugin found [here] (https://github.com/signalfx/collectd-elasticsearch) in
terms of metric naming.

This monitor collects cluster level and index level stats only from the current master
in an Elasticsearch cluster by default. It is possible to override this with the
`clusterHealthStatsMasterOnly` and `indexStatsMasterOnly` config options respectively.

A simple configuration that collects only default metrics looks like the following

```
monitors:
- type: elasticsearch
 host: localhost
 port: 9200
```

By default thread pool stats from "search" and "index" thread pools are collected. To collect
stats from other thread pools follow the below pattern.

```
monitors:
- type: elasticsearch
 host: localhost
 port: 9200
 threadPools:
	- bulk
	- warmer
	- listener
```
The monitor collects a subset of node stats of JVM, process, HTTP, transport, indices and thread
pool stats. It is possible to enable enhanced stats for each group separately. Here's an example:

```
monitors:
- type: elasticsearch
 host: localhost
 port: 9200
 enableEnhancedHTTPStats: true
 enableEnhancedJVMStats: true
 enableEnhancedProcessStats: true
 enableEnhancedThreadPoolStats: true
 enableEnhancedTransportStats: true
 enableEnhancedNodeIndicesStats:
	- indexing
	- warmer
 - get
```

The `enableEnhancedNodeIndicesStats` option takes a list of index stats groups for which enhanced
stats will be collected. A comprehensive list of all available such groups can be found
[here] (https://www.elastic.co/guide/en/elasticsearch/reference/current/cluster-nodes-stats.html#node-indices-stats).

Note that the `enableEnhancedIndexStatsForIndexGroups` is similar to `enableEnhancedNodeIndicesStats`,
but for index level stats

By default the monitor collects a subset of index stats of total aggregation type (see docs for details).
It is possible to enable index stats of primaries aggregation type too. Total for an index stat
aggregates across all shards. Whereas, Primaries only reflect the stats from primary shards. An example
configuration to enable index stats from Primary shards too

```
monitors:
- type: elasticsearch
 host: localhost
 port: 9200
 enableIndexStatsPrimaries: true
```

It is possible to collect index level stats that are aggregated across all indexes, rather than one a per index level

```
monitors:
- type: elasticsearch
 host: localhost
 port: 9200
 IndexSummaryOnly: true
```


Monitor Type: `elasticsearch`

[Monitor Source Code](https://github.com/signalfx/signalfx-agent/tree/master/internal/monitors/elasticsearch)

**Accepts Endpoints**: **Yes**

**Multiple Instances Allowed**: Yes

## Configuration

| Config option | Required | Type | Description |
| --- | --- | --- | --- |
| `host` | **yes** | `string` |  |
| `port` | **yes** | `string` |  |
| `username` | no | `string` | Username used to access Elasticsearch stats API |
| `password` | no | `string` | Password used to access Elasticsearch stats API |
| `useHTTPS` | no | `bool` | Whether to use https or not (**default:** `false`) |
| `cluster` | no | `string` | Cluster name to which the node belongs. This is an optional config that will override the cluster name fetched from a node and will be used to populate the plugin_instance dimension |
| `enableClusterHealth` | no | `bool` | EnableClusterHealth enables reporting on the cluster health (**default:** `true`) |
| `clusterHealthStatsMasterOnly` | no | `bool` | Whether or not non master nodes should report cluster health (**default:** `true`) |
| `enableEnhancedHTTPStats` | no | `bool` | Enable enhanced HTTP stats (**default:** `false`) |
| `enableEnhancedJVMStats` | no | `bool` | Enable enhanced JVM stats (**default:** `false`) |
| `enableEnhancedProcessStats` | no | `bool` | Enable enhanced Process stats (**default:** `false`) |
| `enableEnhancedThreadPoolStats` | no | `bool` | Enable enhanced ThreadPool stats (**default:** `false`) |
| `enableEnhancedTransportStats` | no | `bool` | Enable enhanced Transport stats (**default:** `false`) |
| `enableEnhancedNodeIndicesStats` | no | `list of strings` | Enable enhanced node level index stats groups. A list of index stats groups for which to collect enhanced stats |
| `threadPools` | no | `list of strings` | ThreadPools to report threadpool node stats on (**default:** `[search index]`) |
| `enableEnhancedClusterHealthStats` | no | `bool` | Enable Cluster level stats. These stats report only from master Elasticserach nodes (**default:** `false`) |
| `indexStatsIntervalSeconds` | no | `integer` | Interval to report IndexStats on (**default:** `60`) |
| `indexSummaryOnly` | no | `bool` | Collect only aggregated index stats across all indexes (**default:** `false`) |
| `indexStatsMasterOnly` | no | `bool` | Collect index stats only from Master node (**default:** `true`) |
| `enableIndexStats` | no | `bool` | Enable Index stats. If set to true, by default the a subset of index stats will be collected (see docs for list of default index metrics collected). (**default:** `true`) |
| `indexes` | no | `list of strings` | Indexes to collect stats from (by default stats from all indexes are collected) |
| `enableEnhancedIndexStatsForIndexGroups` | no | `list of strings` | Enable enhanced index level index stats groups. A list of index stats groups for which to collect enhanced stats |
| `enableIndexStatsPrimaries` | no | `bool` | To enable index stats from only primary shards. By default the index stats collected are aggregated across all shards (**default:** `false`) |
| `metadataRefreshIntervalSeconds` | no | `integer` | How often to refresh metadata about the node and cluster (**default:** `30`) |




## Metrics

The following table lists the metrics available for this monitor. Metrics that are marked as Included are standard metrics and are monitored by default.

| Name | Type | Included | Description |
| ---  | ---  | ---    | ---         |
| `elasticsearch.cluster.initializing-shards` | gauge |  | Number of shards being initialized |
| `elasticsearch.cluster.pending-tasks` | gauge |  | Number of pending tasks |
| `elasticsearch.cluster.number-of-nodes` | gauge | ✔ | Number of nodes |
| `elasticsearch.cluster.task-max-wait-time` | gauge |  | Max time a task has to wait |
| `elasticsearch.cluster.delayed-unassigned-shards` | gauge |  | Number of delayed unassigned shards |
| `elasticsearch.cluster.active-shards` | gauge | ✔ | Number of active shards |
| `elasticsearch.cluster.in-flight-fetches` | gauge |  | Number of fetches in-flight |
| `elasticsearch.cluster.unassigned-shards` | gauge | ✔ | Number of unassigned shards |
| `elasticsearch.cluster.number-of-data_nodes` | gauge | ✔ | Number of data nodes |
| `elasticsearch.cluster.active-primary-shards` | gauge | ✔ | Number of active primary shards |
| `elasticsearch.cluster.active-shards-percent` | gauge |  | Percentaage of shards active |
| `elasticsearch.cluster.status` | gauge |  | Cluster stats (0, 1, 2 for green, yellow and red respectively) |
| `elasticsearch.cluster.relocating-shards` | gauge | ✔ | Number of shards being relocated |
| `elasticsearch.jvm.mem.pools.old.peak_max_in_bytes` | gauge |  | Memory pool Old Gen peak max (in bytes) |
| `elasticsearch.jvm.mem.buffer_pools.direct.count` | gauge |  | Number of direct buffer pools |
| `elasticsearch.jvm.mem.pools.young.max_in_bytes` | gauge |  | Max memory (in bytes) that can be used by Young Gen |
| `elasticsearch.jvm.classes.current-loaded-count` | gauge |  | Number of classes currently loaded |
| `elasticsearch.jvm.threads.peak` | gauge |  | Peak number of threads used |
| `elasticsearch.jvm.classes.total-unloaded-count` | counter |  | Total number of classes unloaded |
| `elasticsearch.jvm.uptime` | counter |  | Uptime of JVM |
| `elasticsearch.jvm.mem.pools.young.used_in_bytes` | gauge |  | Memory used by Young Gen (in bytes) |
| `elasticsearch.jvm.mem.heap-used-percent` | gauge |  | Percent of heap being used |
| `elasticsearch.jvm.mem.buffer_pools.direct.total_capacity_in_bytes` | gauge |  | Total capacity of direct buffer pools |
| `elasticsearch.jvm.gc.time` | counter | ✔ | Total time spent on GC |
| `elasticsearch.jvm.classes.total-loaded-count` | counter |  | Number of classes loaded |
| `elasticsearch.jvm.mem.pools.young.peak_used_in_bytes` | gauge |  | Memory pool Young Gen peak used (in bytes) |
| `elasticsearch.jvm.mem.pools.old.max_in_bytes` | gauge |  | Memory used by Old Gen (in bytes) |
| `elasticsearch.jvm.mem.pools.young.peak_max_in_bytes` | gauge |  | Memory pool Young Gen peak max (in bytes) |
| `elasticsearch.jvm.mem.heap-used` | gauge | ✔ | Memory current being used by JVM heap (in bytes) |
| `elasticsearch.jvm.mem.buffer_pools.direct.used_in_bytes` | gauge |  | Memory used by direct buffer pools (in bytes) |
| `elasticsearch.jvm.mem.buffer_pools.mapped.used_in_bytes` | gauge |  | Memory used by mapped buffer pools (in bytes) |
| `elasticsearch.jvm.mem.non-heap-used` | gauge |  | Memory current being used by JVM non-heap (in bytes) |
| `elasticsearch.jvm.mem.heap-max` | gauge |  | Max memory that can be used by JVM heap (in bytes) |
| `elasticsearch.jvm.mem.pools.survivor.peak_used_in_bytes` | gauge |  | Peak memory used by Survivor space (in bytes) |
| `elasticsearch.jvm.mem.pools.old.peak_used_in_bytes` | gauge |  | Peak memory used by Old Gen (in bytes) |
| `elasticsearch.jvm.mem.non-heap-committed` | gauge |  | Memory guaranteed to be available to JVM non-heap |
| `elasticsearch.jvm.mem.pools.survivor.peak_max_in_bytes` | gauge |  | Memory used by Survivor space (in bytes) |
| `elasticsearch.jvm.mem.buffer_pools.mapped.count` | gauge |  | Number of buffers in the mapped pool |
| `elasticsearch.jvm.mem.pools.old.used_in_bytes` | gauge |  | Memory being used by Old Gen (in bytes) |
| `elasticsearch.jvm.mem.pools.survivor.max_in_bytes` | gauge |  | Max memory that can be used by Survivor space (in bytes) |
| `elasticsearch.jvm.gc.old-count` | counter |  | Total number of garbage collections on Old Gen |
| `elasticsearch.jvm.mem.pools.survivor.used_in_bytes` | gauge |  | Memory being used currently by Survivor space (in bytes) |
| `elasticsearch.jvm.gc.count` | counter |  | Total number of garbage collections |
| `elasticsearch.jvm.gc.old-time` | counter |  | Total time spent in garbage collections on Old Gen |
| `elasticsearch.jvm.mem.heap-committed` | gauge | ✔ | Memory guaranteed to be available to JVM heap |
| `elasticsearch.jvm.threads.count` | gauge |  | Number of active threads in the JVM |
| `elasticsearch.jvm.mem.buffer_pools.mapped.total_capacity_in_bytes` | gauge |  | Total capacity of the buffers in the mapped pool |
| `elasticsearch.process.max_file_descriptors` | gauge |  | Number of opened file descriptors associated with the current process |
| `elasticsearch.process.mem.total-virtual-size` | counter |  | Size in bytes of virtual memory that is guaranteed to be available to the running process |
| `elasticsearch.process.cpu.percent` | gauge |  | CPU usage in percent |
| `elasticsearch.process.cpu.time` | counter |  | CPU time (in milliseconds) used by the process on which the Java virtual machine is running |
| `elasticsearch.process.open_file_descriptors` | gauge | ✔ | Number of currently open file descriptors |
| `elasticsearch.http.total_open` | counter |  | Total number of opened HTTP connections |
| `elasticsearch.http.current_open` | gauge |  | Number of currently open HTTP connections |
| `elasticsearch.transport.server_open` | gauge |  | Total number of connections opened for cluster communication |
| `elasticsearch.transport.rx.count` | counter |  | Total size of data received in cluster communication (in bytes) |
| `elasticsearch.thread_pool.queue` | gauge |  | Number of Tasks in thread pool |
| `elasticsearch.thread_pool.completed` | counter |  | Number of threads completed in thread pool |
| `elasticsearch.thread_pool.threads` | counter |  | Number of Threads in thread pool |
| `elasticsearch.thread_pool.active` | gauge |  | Number of active threads |
| `elasticsearch.thread_pool.rejected` | counter | ✔ | Number of rejected threads in thread pool |
| `elasticsearch.indices.merges.current` | gauge | ✔ | Number of currently active segment merges |
| `elasticsearch.thread_pool.largest` | gauge |  | Highest active threads in thread pool |
| `elasticsearch.indices.query-cache.miss-count` | counter |  | Number of query cache misses |
| `elasticsearch.indices.refresh.time` | counter |  | Total time spent on index refreshes |
| `elasticsearch.indices.refresh.total` | counter |  | Number of index refreshes |
| `elasticsearch.indices.request-cache.evictions` | counter |  | Number of request cache evictions |
| `elasticsearch.indices.search.fetch-time` | counter |  | Total time spent on query fetches |
| `elasticsearch.indices.merges.stopped-time` | counter |  | Total time merges were stopped for |
| `elasticsearch.indices.translog.uncommitted_size_in_bytes` | gauge |  | Size of uncommitted transaction logs (in bytes) |
| `elasticsearch.transport.tx.count` | counter |  | Total number of packets sent in cluster communication |
| `elasticsearch.indices.filter-cache.evictions` | counter |  | Number of evicttions from filter cache |
| `elasticsearch.indices.indexing.delete-time` | counter |  | Time spent deleting documents from an index |
| `elasticsearch.indices.completion.size` | gauge |  | Size used by suggest completion (in bytes) |
| `elasticsearch.indices.recovery.current-as-target` | gauge |  | Number of ongoing recoveries for which a shard serves as a target |
| `elasticsearch.indices.refresh.listeners` | gauge |  | Number of listeners waiting for a refresh |
| `elasticsearch.indices.segments.count` | gauge | ✔ | Number of segments in an index shard |
| `elasticsearch.indices.search.query-time` | counter | ✔ | Total time spent querying on the primary |
| `elasticsearch.indices.segments.version-map-memory` | gauge |  | Memory used by segment version map (in bytes) |
| `elasticsearch.indices.search.suggest-current` | gauge |  | Number of suggest requests currently active |
| `elasticsearch.indices.indexing.delete-total` | counter |  | Number of documents deleted from an index |
| `elasticsearch.indices.recovery.throttle-time` | counter |  | Total time recoveries waited due to throttling |
| `elasticsearch.transport.rx.size` | counter |  | Total size of data received in cluster communication |
| `elasticsearch.transport.tx.size` | counter |  | Total size of data sent in cluster communication |
| `elasticsearch.indices.merges.throttle-time` | counter |  | Total time merges spent waiting due to throttling |
| `elasticsearch.indices.indexing.delete-current` | gauge |  | Number of documents currently being deleted from an index |
| `elasticsearch.indices.flush.total` | counter |  | Number of index flushes to disk |
| `elasticsearch.indices.merges.current-size` | gauge |  | Size of the segments currently being merged |
| `elasticsearch.indices.id-cache.memory-size` | gauge |  | Size of id cache (in bytes) |
| `elasticsearch.indices.query-cache.memory-size` | gauge |  | Size of query cache (in bytes) |
| `elasticsearch.indices.fielddata.evictions` | counter |  | Number of evictions from fielddata cache |
| `elasticsearch.indices.percolate.queries` | counter |  | Number of percolator queries |
| `elasticsearch.indices.warmer.total-time` | counter |  | Total time spent by warmers |
| `elasticsearch.indices.indexing.index-current` | gauge |  | Number of documents currently being indexed to an index |
| `elasticsearch.indices.query-cache.evictions` | counter |  | Number of query cache evictions |
| `elasticsearch.indices.query-cache.total-count` | counter |  | Total number of items in the query cache |
| `elasticsearch.indices.docs.count` | gauge | ✔ | Number of docs |
| `elasticsearch.indices.translog.operations` | gauge |  | Number of operations in the transaction log |
| `elasticsearch.indices.percolate.current` | gauge |  | Number of percolator queries currently running |
| `elasticsearch.indices.search.query-total` | counter | ✔ | Total number of queries |
| `elasticsearch.indices.get.time` | counter |  | Time spent on get requests |
| `elasticsearch.indices.indexing.index-total` | counter | ✔ | Total number of documents indexed to an index |
| `elasticsearch.indices.filter-cache.memory-size` | gauge |  | Filter cache size (in bytes) |
| `elasticsearch.indices.get.total` | counter | ✔ | Total number of get requests |
| `elasticsearch.indices.warmer.total` | counter |  | Total number of warmers |
| `elasticsearch.indices.docs.deleted` | gauge | ✔ | Number of docs deleted |
| `elasticsearch.indices.get.exists-total` | counter |  | Number of get requests where the document existed |
| `elasticsearch.indices.search.scroll-total` | counter |  | Total number of scroll queries |
| `elasticsearch.indices.request-cache.memory-size` | gauge |  | Memory used by request cache (in bytes) |
| `elasticsearch.indices.suggest.time` | counter |  | Total time spent in suggest requests |
| `elasticsearch.indices.warmer.current` | gauge |  | Number of currently active warmers |
| `elasticsearch.indices.indexing.index-time` | counter |  | Time spent indexing documents to an index |
| `elasticsearch.indices.translog.uncommitted_operations` | gauge |  | Number of uncommitted operations in the transaction log |
| `elasticsearch.indices.segments.index-writer-max-size` | gauge |  | Maximum memory used by the index writer |
| `elasticsearch.indices.get.exists-time` | counter |  | Time spent on get requests where the document existed |
| `elasticsearch.indices.segments.size` | gauge |  | Memory used by index segments (in bytes) |
| `elasticsearch.indices.request-cache.miss-count` | counter |  | Number of request cache misses |
| `elasticsearch.indices.search.query-current` | gauge |  | Number of currently active queries |
| `elasticsearch.indices.merges.auto-throttle-size` | counter |  | Merging throttled due to auto-throttling (in bytes) |
| `elasticsearch.indices.get.missing-total` | counter |  | Number of get requests where the document was missing |
| `elasticsearch.indices.recovery.current-as-source` | gauge |  | Number of ongoing recoveries for which a shard serves as a source |
| `elasticsearch.indices.segments.term-vectors-memory-size` | gauge |  | Memory used by term vectors (in bytes) |
| `elasticsearch.indices.segments.stored-field-memory-size` | gauge |  | Memory used by stored fields (in bytes) |
| `elasticsearch.indices.store.throttle-time` | counter |  | Total time requests are throttled for |
| `elasticsearch.indices.request-cache.hit-count` | counter |  | Number of request cache hits |
| `elasticsearch.indices.query-cache.cache-count` | gauge |  | Number of items in query cache |
| `elasticsearch.indices.suggest.total` | counter |  | Total number of suggest requests |
| `elasticsearch.indices.query-cache.cache-size` | gauge |  | Size of query cache (in bytes) |
| `elasticsearch.indices.segments.points-memory-size` | gauge |  | Memory used by points |
| `elasticsearch.indices.store.size` | gauge |  | Total size (in bytes) |
| `elasticsearch.indices.search.fetch-current` | gauge |  | Number of query fetches currently running |
| `elasticsearch.indices.merges.total` | counter | ✔ | Number of segment merges |
| `elasticsearch.indices.translog.size` | gauge |  | Size of the transaction log |
| `elasticsearch.indices.segments.index-writer-size` | gauge |  | Memory used by the index writer |
| `elasticsearch.indices.percolate.total` | counter |  | Total number of suggest requests |
| `elasticsearch.indices.suggest.current` | gauge |  | Number of currently active suggest requests |
| `elasticsearch.indices.segments.norms-memory-size` | gauge |  | Memory used by norms (in bytes) |
| `elasticsearch.indices.search.suggest-total` | counter |  | Total number of suggest requests |
| `elasticsearch.indices.search.scroll-time` | counter |  | Total time spent on scroll queries |
| `elasticsearch.indices.percolate.time` | counter |  | Total time spent on percolate requests |
| `elasticsearch.indices.fielddata.memory-size` | gauge |  | Size of fielddata cache (in bytes) |
| `elasticsearch.indices.query-cache.hit-count` | counter |  | Number of query cache hits |
| `elasticsearch.indices.segments.terms-memory-size` | gauge |  | Memory used by terms (in bytes) |
| `elasticsearch.indices.segments.doc-values-memory-size` | gauge |  | Memory used by doc values |
| `elasticsearch.indices.get.missing-time` | counter |  | Time spent on get requests where the document was missing |
| `elasticsearch.indices.translog.earliest_last_modified_age` | gauge |  | Earliest last modified age on transaction logs |
| `elasticsearch.indices.merges.total-size` | counter |  | Total size of merged segments |
| `elasticsearch.indices.search.fetch-total` | counter |  | Total number of query feches |
| `elasticsearch.indices.flush.time` | counter |  | Time spent flushing the index to disk |
| `elasticsearch.indices.get.current` | gauge |  | Number of get requests running |
| `elasticsearch.indices.search.suggest-time` | counter |  | Total time spent on search suggest |
| `elasticsearch.indices.merges.total-docs` | counter |  | Number of merged docs across merged segments |
| `elasticsearch.indices.merges.time` | counter |  | Total time spent on merging |
| `elasticsearch.indices.flush.periodic` | gauge |  | How long to wait before triggering a flush regardless of translog size |
| `elasticsearch.indices.search.scroll-current` | gauge |  | Currently active scroll queries count |
| `elasticsearch.indices.segments.fixed-bit-set-memory-size` | gauge |  | Memory used by fixed bit set |
| `elasticsearch.indices.merges.current-docs` | gauge |  | Number of docs currently being merged |


To specify custom metrics you want to monitor, add a `metricsToInclude` filter
to the agent configuration, as shown in the code snippet below. The snippet
lists all available custom metrics. You can copy and paste the snippet into
your configuration file, then delete any custom metrics that you do not want
sent.

Note that some of the custom metrics require you to set a flag as well as add
them to the list. Check the monitor configuration file to see if a flag is
required for gathering additional metrics.

```yaml

metricsToInclude:
  - metricNames:
    - elasticsearch.cluster.initializing-shards
    - elasticsearch.cluster.pending-tasks
    - elasticsearch.cluster.task-max-wait-time
    - elasticsearch.cluster.delayed-unassigned-shards
    - elasticsearch.cluster.in-flight-fetches
    - elasticsearch.cluster.active-shards-percent
    - elasticsearch.cluster.status
    - elasticsearch.jvm.mem.pools.old.peak_max_in_bytes
    - elasticsearch.jvm.mem.buffer_pools.direct.count
    - elasticsearch.jvm.mem.pools.young.max_in_bytes
    - elasticsearch.jvm.classes.current-loaded-count
    - elasticsearch.jvm.threads.peak
    - elasticsearch.jvm.classes.total-unloaded-count
    - elasticsearch.jvm.uptime
    - elasticsearch.jvm.mem.pools.young.used_in_bytes
    - elasticsearch.jvm.mem.heap-used-percent
    - elasticsearch.jvm.mem.buffer_pools.direct.total_capacity_in_bytes
    - elasticsearch.jvm.classes.total-loaded-count
    - elasticsearch.jvm.mem.pools.young.peak_used_in_bytes
    - elasticsearch.jvm.mem.pools.old.max_in_bytes
    - elasticsearch.jvm.mem.pools.young.peak_max_in_bytes
    - elasticsearch.jvm.mem.buffer_pools.direct.used_in_bytes
    - elasticsearch.jvm.mem.buffer_pools.mapped.used_in_bytes
    - elasticsearch.jvm.mem.non-heap-used
    - elasticsearch.jvm.mem.heap-max
    - elasticsearch.jvm.mem.pools.survivor.peak_used_in_bytes
    - elasticsearch.jvm.mem.pools.old.peak_used_in_bytes
    - elasticsearch.jvm.mem.non-heap-committed
    - elasticsearch.jvm.mem.pools.survivor.peak_max_in_bytes
    - elasticsearch.jvm.mem.buffer_pools.mapped.count
    - elasticsearch.jvm.mem.pools.old.used_in_bytes
    - elasticsearch.jvm.mem.pools.survivor.max_in_bytes
    - elasticsearch.jvm.gc.old-count
    - elasticsearch.jvm.mem.pools.survivor.used_in_bytes
    - elasticsearch.jvm.gc.count
    - elasticsearch.jvm.gc.old-time
    - elasticsearch.jvm.threads.count
    - elasticsearch.jvm.mem.buffer_pools.mapped.total_capacity_in_bytes
    - elasticsearch.process.max_file_descriptors
    - elasticsearch.process.mem.total-virtual-size
    - elasticsearch.process.cpu.percent
    - elasticsearch.process.cpu.time
    - elasticsearch.http.total_open
    - elasticsearch.http.current_open
    - elasticsearch.transport.server_open
    - elasticsearch.transport.rx.count
    - elasticsearch.thread_pool.queue
    - elasticsearch.thread_pool.completed
    - elasticsearch.thread_pool.threads
    - elasticsearch.thread_pool.active
    - elasticsearch.thread_pool.largest
    - elasticsearch.indices.query-cache.miss-count
    - elasticsearch.indices.refresh.time
    - elasticsearch.indices.refresh.total
    - elasticsearch.indices.request-cache.evictions
    - elasticsearch.indices.search.fetch-time
    - elasticsearch.indices.merges.stopped-time
    - elasticsearch.indices.translog.uncommitted_size_in_bytes
    - elasticsearch.transport.tx.count
    - elasticsearch.indices.filter-cache.evictions
    - elasticsearch.indices.indexing.delete-time
    - elasticsearch.indices.completion.size
    - elasticsearch.indices.recovery.current-as-target
    - elasticsearch.indices.refresh.listeners
    - elasticsearch.indices.segments.version-map-memory
    - elasticsearch.indices.search.suggest-current
    - elasticsearch.indices.indexing.delete-total
    - elasticsearch.indices.recovery.throttle-time
    - elasticsearch.transport.rx.size
    - elasticsearch.transport.tx.size
    - elasticsearch.indices.merges.throttle-time
    - elasticsearch.indices.indexing.delete-current
    - elasticsearch.indices.flush.total
    - elasticsearch.indices.merges.current-size
    - elasticsearch.indices.id-cache.memory-size
    - elasticsearch.indices.query-cache.memory-size
    - elasticsearch.indices.fielddata.evictions
    - elasticsearch.indices.percolate.queries
    - elasticsearch.indices.warmer.total-time
    - elasticsearch.indices.indexing.index-current
    - elasticsearch.indices.query-cache.evictions
    - elasticsearch.indices.query-cache.total-count
    - elasticsearch.indices.translog.operations
    - elasticsearch.indices.percolate.current
    - elasticsearch.indices.get.time
    - elasticsearch.indices.filter-cache.memory-size
    - elasticsearch.indices.warmer.total
    - elasticsearch.indices.get.exists-total
    - elasticsearch.indices.search.scroll-total
    - elasticsearch.indices.request-cache.memory-size
    - elasticsearch.indices.suggest.time
    - elasticsearch.indices.warmer.current
    - elasticsearch.indices.indexing.index-time
    - elasticsearch.indices.translog.uncommitted_operations
    - elasticsearch.indices.segments.index-writer-max-size
    - elasticsearch.indices.get.exists-time
    - elasticsearch.indices.segments.size
    - elasticsearch.indices.request-cache.miss-count
    - elasticsearch.indices.search.query-current
    - elasticsearch.indices.merges.auto-throttle-size
    - elasticsearch.indices.get.missing-total
    - elasticsearch.indices.recovery.current-as-source
    - elasticsearch.indices.segments.term-vectors-memory-size
    - elasticsearch.indices.segments.stored-field-memory-size
    - elasticsearch.indices.store.throttle-time
    - elasticsearch.indices.request-cache.hit-count
    - elasticsearch.indices.query-cache.cache-count
    - elasticsearch.indices.suggest.total
    - elasticsearch.indices.query-cache.cache-size
    - elasticsearch.indices.segments.points-memory-size
    - elasticsearch.indices.store.size
    - elasticsearch.indices.search.fetch-current
    - elasticsearch.indices.translog.size
    - elasticsearch.indices.segments.index-writer-size
    - elasticsearch.indices.percolate.total
    - elasticsearch.indices.suggest.current
    - elasticsearch.indices.segments.norms-memory-size
    - elasticsearch.indices.search.suggest-total
    - elasticsearch.indices.search.scroll-time
    - elasticsearch.indices.percolate.time
    - elasticsearch.indices.fielddata.memory-size
    - elasticsearch.indices.query-cache.hit-count
    - elasticsearch.indices.segments.terms-memory-size
    - elasticsearch.indices.segments.doc-values-memory-size
    - elasticsearch.indices.get.missing-time
    - elasticsearch.indices.translog.earliest_last_modified_age
    - elasticsearch.indices.merges.total-size
    - elasticsearch.indices.search.fetch-total
    - elasticsearch.indices.flush.time
    - elasticsearch.indices.get.current
    - elasticsearch.indices.search.suggest-time
    - elasticsearch.indices.merges.total-docs
    - elasticsearch.indices.merges.time
    - elasticsearch.indices.flush.periodic
    - elasticsearch.indices.search.scroll-current
    - elasticsearch.indices.segments.fixed-bit-set-memory-size
    - elasticsearch.indices.merges.current-docs
    monitorType: elasticsearch
```


## Dimensions

The following dimensions may occur on metrics emitted by this monitor.  Some
dimensions may be specific to certain metrics.

| Name | Description |
| ---  | ---         |
| `plugin_instance` | Name of the Elasticsearch cluster. For compatibility with collectd/elasticsearch built-in content |
| `cluster` | Name of Elasticsearch the cluster. |
| `node_id` | ID of a Elasticsearch node (only on node mertics) |
| `node_name` | Human readable name of a node (only on node mertics) |
| `thread_pool` | Name of thread pool (only on thread pool mertics) |
| `index` | Name of index (only on per index mertics) |
| `aggregation` | Aggregation of index metrics. Whether the value of the metric is from the primary shard only or across all shards. Valid values - primaries, total respectively (only on index stats) |



